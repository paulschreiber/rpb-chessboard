<!DOCTYPE html>
<!----------------------------------------------------------------------------->
<!--                                                                         -->
<!--  This file is part of RPB Chessboard, a WordPress plugin.               -->
<!--  Copyright (C) 2013-2018  Yoann Le Montagner <yo35 -at- melix.net>      -->
<!--                                                                         -->
<!--  This program is free software: you can redistribute it and/or modify   -->
<!--  it under the terms of the GNU General Public License as published by   -->
<!--  the Free Software Foundation, either version 3 of the License, or      -->
<!--  (at your option) any later version.                                    -->
<!--                                                                         -->
<!--  This program is distributed in the hope that it will be useful,        -->
<!--  but WITHOUT ANY WARRANTY; without even the implied warranty of         -->
<!--  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the          -->
<!--  GNU General Public License for more details.                           -->
<!--                                                                         -->
<!--  You should have received a copy of the GNU General Public License      -->
<!--  along with this program.  If not, see <http://www.gnu.org/licenses/>.  -->
<!--                                                                         -->
<!----------------------------------------------------------------------------->
<html>

<head>
	<meta charset="UTF-8">
	<title>Sandbox for rpbchess-ui-chessgame.js</title>

	<!-- Third-party required components -->
	<script type="text/javascript" src="../../third-party-libs/moment-js/moment.js"></script>
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.10.2.js"></script>
	<script type="text/javascript" src="http://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
	<link rel="stylesheet" type="text/css" href="http://code.jquery.com/ui/1.10.4/themes/smoothness/jquery-ui.css" />

	<!-- Fonts -->
	<link rel="stylesheet" type="text/css" href="../../fonts/chess-fonts.css" />

	<!-- Other required components -->
	<script type="text/javascript" src="../../third-party-libs/kokopu/kokopu.js"></script>
	<script type="text/javascript" src="../../js/rpbchess-ui-chessboard.js"></script>
	<link rel="stylesheet" type="text/css" href="../../css/rpbchess-ui-chessboard.css" />

	<!-- Tested component -->
	<script type="text/javascript" src="../../js/rpbchess-ui-chessgame.js"></script>
	<link rel="stylesheet" type="text/css" href="../../css/rpbchess-ui-chessgame.css" />

</head>

<body>
	<h1>Sandbox for rpbchess-ui-chessgame.js</h1>

	<hr/>

	<div id="a"></div>

	<hr/>

	<div id="b"></div>
	<button id="clear-button">Clear</button>

	<hr/>

	<div id="c1"></div>

	<hr/>

	<div id="c2"></div>

	<hr/>

	<div id="c3"></div>

	<hr/>

	<div id="d"></div>

	<hr/>

	<div id="e1"></div>
	<div id="e2"></div>
	<div id="e3"></div>
	<div id="e4"></div>
	<div id="e5"></div>

	<hr/>

	<div id="f"></div>

	<script type="text/javascript">

		/* global $ */
		'use strict'; /* jshint ignore:line */


		// Create the widget on #a.
		$('#a').chessgame({ navigationBoard: 'floatLeft', pgn:
			'[White "Kasparov, G."]\n' +
			'[Black "Karkov, A."]\n' +
			'[WhiteElo "2820"]\n' +
			'[WhiteTitle "GM"]\n' +
			'[BlackTitle "GM"]\n' +
			'[Event "World Chess Championship"]\n' +
			'[Round "14"]\n' +
			'[Date "1990.11.??"]\n' +
			'[Site "Lyon, FRA"]\n' +
			'[Annotator "Yo35"]\n' +
			'[Result "1/2-1/2"]\n' +
			'1/2-1/2'
		});

		// Create a widget on #b.
		$('#b').chessgame({ navigationBoard: 'frame', pgn:
			'[White "Kasparov, G."]\n' +
			'[Black "Dupont"]\n' +
			'[WhiteElo "2820"]\n' +
			'[Event "Exhibition"]\n' +
			'[Date "????.??.??"]\n' +
			'[Site "Some unknown place"]\n' +
			'{[%csl Ga2,Gb2,Gc2,Gd2,Ge2,Gf2,Gg2,Gh2,Ra7,Rb7,Rc7,Rd7,Re7,Rf7,Rg7,Rh7]} 1. e4 {[%cal Ye2e4]} e5 {[%cal Ye7e5]} *'
		});

		// Clear button: destroy the widget.
		$('#clear-button').click(function() { $('#b').chessgame('destroy'); });

		// Create a widget on #c.
		var cPGN =
			'[Event "1st American Chess Congress"]\n' +
			'[Site "New York, NY USA"]\n' +
			'[Date "1857.11.03"]\n' +
			'[Round "4.6"]\n' +
			'[White "Paulsen, Louis"]\n' +
			'[Black "Morphy, Paul"]\n' +
			'[Result "0-1"]\n' +
			'\n' +
			'1. e4 e5 2. Nf3 Nc6 3. Nc3 Nf6 4. Bb5 Bc5 5. O-O O-O 6. Nxe5 Re8 7. Nxc6 dxc6\n' +
			'8. Bc4 b5 9. Be2 Nxe4 10. Nxe4 Rxe4 11. Bf3 Re6 12. c3 Qd3 13. b4 Bb6 14. a4 bxa4\n' +
			'15. Qxa4 Bd7 16. Ra2 Rae8 17. Qa6\n' +
			'\n' +
			'{Morphy took twelve minutes over his next move, probably to assure himself ' +
			'that the combination was sound and that he had a forced win in every variation.}\n' +
			'\n' +
			'17... Qxf3 $3 18. gxf3 Rg6+ 19. Kh1 Bh3 20. Rd1' +
			'({Not} 20. Rg1 Rxg1+ 21. Kxg1 Re1+ $19)\n' +
			'20... Bg2+ 21. Kg1 Bxf3+ 22. Kf1 Bg2+\n' +
			'\n' +
			'(22...Rg2 $1 {would have won more quickly. For instance:} 23. Qd3 Rxf2+ 24. Kg1 Rg2+ 25. Kh1 Rg1#)\n' +
			'\n' +
			'23. Kg1 Bh3+ 24. Kh1 Bxf2 25. Qf1 {Absolutely forced.} 25... Bxf1 26. Rxf1 Re2\n' +
			'27. Ra1 Rh6 28. d4 Be3 0-1';
		$('#c1').chessgame({ navigationBoard: 'floatLeft', navigationBoardOptions: { squareSize: 24 }, pgn: cPGN });
		$('#c2').chessgame({ navigationBoard: 'above', navigationBoardOptions: { squareSize: 24 }, pgn: cPGN });
		$('#c3').chessgame({ navigationBoard: 'below', navigationBoardOptions: { squareSize: 24 }, pgn: cPGN });

		// Create a widget on #d.
		$('#d').chessgame({ navigationBoard: 'frame', pgn:
			'[Result "1-0"]\n' +
			'[FEN "r2q1b1r/ppn2kpp/2p1b3/3nP3/2BPQ3/P1N5/1PP3PP/R1B1K2R w KQ - 1 14"]\n' +
			'[SetUp "1"]\n' +
			'14. O-O+ Ke8 15. Qf3 Nxc3 16. Bxe6 Nxe6 Qf7# 1-0'
		});

		// Test the piece symbols features
		var pgn = '1.e4 Nf6 2.Bc4 Rg8 3.Bxf7+ Kxf7 4.Qh5+ (4.Qf3 Ke8 5.d4 Rh8 6.Bg5 Nxe4) *';
		$.chessgame.i18n.PIECE_SYMBOLS = { 'K':'R', 'Q':'D', 'R':'T', 'B':'F', 'N':'C', 'P':'P' };
		$('#e1').chessgame({ navigationBoard: 'frame', pgn: pgn, pieceSymbols: 'localized' });
		$('#e2').chessgame({ navigationBoard: 'frame', pgn: pgn, pieceSymbols: 'figurines' });
		$('#e3').chessgame({ navigationBoard: 'frame', pgn: pgn, pieceSymbols: ':merida'  });
		$('#e4').chessgame({ navigationBoard: 'frame', pgn: pgn, pieceSymbols: ':pirat'   });
		$('#e5').chessgame({ navigationBoard: 'frame', pgn: pgn, pieceSymbols: '(abcdef)' });

		// Parsing error message
		$('#f').chessgame({ pgn:
			'[Event "Game with badly formatted move"]\n' +
			'1.e4 e5 2.Nf4 *'
		});

	</script>

</body>

</html>
